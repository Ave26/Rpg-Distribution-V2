generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type UsersAdditionalInfo {
  Dob          String
  Phone_Number Int
  email        String
}

model products {
  id               String @id @default(auto()) @map("_id") @db.ObjectId
  barcodeId        String @unique
  productName      String
  quantity         Int
  sku              String
  palletteLocation String
  dateReceived     String
  expirationDate   String
  poId             String
  image            String
}

model users {
  id              String              @id @default(auto()) @map("_id") @db.ObjectId
  additional_Info UsersAdditionalInfo @map("additional Info")
  password        String              @unique(map: "password_1")
  roles           String              @default("staff")
  username        String              @unique(map: "username_1")
  productLists    productLists[]
}

model productDetails {
  id           String         @id @default(auto()) @map("_id") @db.ObjectId
  barcodeId    String         @unique
  img          String?
  productName  String?
  productLists productLists[]
}

// one to many relationsShip

model productLists {
  id               String          @id @default(auto()) @map("_id") @db.ObjectId
  quantity         Int?
  dateRecieve      DateTime?
  expirationDate   String?
  price            Float?
  sku              String?
  poId             String?
  status           String?
  paletteLocation  String?
  productType      String?
  user             users?          @relation(fields: [userId], references: [id])
  userId           String?         @db.ObjectId
  productDetails   productDetails? @relation(fields: [productDetailsId], references: [id])
  productDetailsId String?         @db.ObjectId
}

model skuTypes {
  id               String             @id @default(auto()) @map("_id") @db.ObjectId
  price            Float?
  manufacturer     String?
  type             String?
  size             String?
  palletteLocation palletteLocation[]
}

model palletteLocation {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  skuTypes    skuTypes? @relation(fields: [skuTypesId], references: [id])
  skuTypesId  String?   @db.ObjectId
  category    String? // Food, Laundry, Cosmetics, Sanitary, Cleaning
  row         Int?
  column      Int?
  maxCapacity Int?
}
